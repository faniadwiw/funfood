{% extends '../base.html' %}
{% load static %}
{% block title %}{{ recipe.title }} - Funfood{% endblock %}
{% block content %}
<div class="container my-5">
  <div class="row">
    <div class="col-md-8">
      <h1>{{ recipe.title|upper }}</h1>
      <div class="text-primary">
        <span class="me-1">{{ recipe.get_avg_rating }}</span>
        <i class="bi bi-star-fill"></i>
      </div>
      <p class="text-muted">Oleh {{ recipe.user.username }}</p>

      <h3>Deskripsi</h3>
      <p>{{recipe.description}}</p>
      
      <h3>Bahan - bahan</h3>
      <ul>
        {% for ingredient in recipe.get_ingredients %}
        <li>{{ ingredient|capfirst }}</li>
        {% endfor %}
      </ul>
      
      <h3>Langkah - langkah</h3>
      <ol>
        {% for step in recipe.get_steps %}
        <li>{{ step }}</li>
        {% endfor %}
      </ol>

      <a href="javascript:history.back()" class="btn btn-secondary mt-3">Kembali</a>
    </div>
    <div class="col-md-4">
      {% if recipe.image %}
      <img src="{{recipe.image.url}}" alt="{{recipe.title}}" class="img-fluid" style="max-height: 40vh">
      {% else %}
      <img src="{% static 'images/default-recipe.jpg' %}" alt="Default recipe image" class="img-fluid">
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}